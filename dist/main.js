(()=>{"use strict";new class{constructor(){this.weather=new class{constructor(){}async getWeather(e){try{const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=bfe99891e1d843209e475618232903&q=${e}`),n=await t.json();this.renderData(n);const r=n.current.condition.text;this.getGif(r)}catch(e){console.log(e)}}async getGif(e){try{const t=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=YG6xZTHIFxmPG2qrwk9CVBiNoL5r1A65&q=${e}`,{mode:"cors"}),n=await t.json();this.renderGif(n)}catch(e){console.log(e)}}renderData(e){const{location:{name:t,country:n},current:{condition:{text:r},cloud:c,temp_c:o,temp_f:s,wind_kph:i,wind_mph:a,pressure_mb:l,pressure_in:d}}=e;document.querySelector("#search-place").textContent=`${t} (${n})`,document.querySelector("#current-condition").textContent=r,document.querySelector("#clouds").value=c,document.querySelector("#temp-c").textContent=`${o} C`,document.querySelector("#wind-km").textContent=`${i} KPH`,document.querySelector("#pressure-mb").textContent=`${l} MB`,document.querySelector("#temp-f").textContent=`${s} F`,document.querySelector("#wind-m").textContent=`${a} MPH`,document.querySelector("#pressure-in").textContent=`${d} IN`}renderGif(e){const t=e.data.length,n=Math.floor(Math.random()*(t+1));document.body.style.backgroundImage=`url(${e.data[n].images.original.url})`}},this.miles=!1,this.searchInput=document.querySelector("#place"),this.weather.getWeather(this.searchInput.value),this.searchInput.addEventListener("input",this.renderSearch.bind(this)),document.querySelector("#metric").addEventListener("click",this.renderDiffMetric.bind(this))}renderSearch(){this.weather.getWeather(this.searchInput.value)}renderDiffMetric(){const e=document.querySelector("#temp-c"),t=document.querySelector("#wind-km"),n=document.querySelector("#pressure-mb"),r=document.querySelector("#temp-f"),c=document.querySelector("#wind-m"),o=document.querySelector("#pressure-in");"inherit"===e.style.display?(e.style.display="none",r.style.display="inherit",t.style.display="none",c.style.display="inherit",n.style.display="none",o.style.display="inherit"):(e.style.display="inherit",r.style.display="none",t.style.display="inherit",c.style.display="none",n.style.display="inherit",o.style.display="none")}}})();